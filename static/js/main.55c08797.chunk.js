(this.webpackJsonpimdb=this.webpackJsonpimdb||[]).push([[0],[,,,,,,,,,function(e,t,s){e.exports=s.p+"static/media/LogoTicket.505863ed.svg"},function(e,t,s){e.exports=s(17)},,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),o=s(8),i=s.n(o),r=(s(15),s(2)),c=s(3),u=s(5),l=s(4),h=s(1),m=s(6),d=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(l.a)(t).call(this))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"truncate",value:function(e){return e.substring(0,256)+"..."}},{key:"render",value:function(){return a.a.createElement("div",{className:"movieItem"},a.a.createElement("img",{className:"moviePoster",src:this.props.moviePoster}),a.a.createElement("div",{className:"movieDescription"},a.a.createElement("h3",null,this.props.movieName),a.a.createElement("p",null,this.truncate(this.props.movieDesc))))}}]),t}(a.a.Component),v=(s(16),s(9)),p=s.n(v),f=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={activeSort:"Popularity",showMenu:!1},e.toggleMenu=e.toggleMenu.bind(Object(h.a)(e)),e.changeSort=e.changeSort.bind(Object(h.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"toggleMenu",value:function(){this.setState({showMenu:!this.state.showMenu})}},{key:"changeSort",value:function(e,t){this.props.throw(e),this.setState({activeSort:t})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"comboSelector",onClick:this.toggleMenu},"Sort by: ",this.state.activeSort,a.a.createElement("div",{className:"comboSelector-menu",style:{display:this.state.showMenu?"block":"none"}},this.props.menuList.map((function(t,s){return a.a.createElement("div",{key:"combo"+s,className:"comboSelector-menu-item",onClick:function(){return e.changeSort(t.messy,t.tidy)}},t.tidy)}))))}}]),t}(a.a.Component),y=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).fetchAPI=function(t,s,n,a,o){for(var i=[],r=function(){var n=new XMLHttpRequest;t=(t=(t+="?api_key=793404c73efcad0fa53d5f53f793021f")+"&page="+s)+"&sort_by="+a,n.timeout=5e3,n.ontimeout=function(){console.log("This request is taking too long!")},n.open("GET",t,!0),n.send(),n.onreadystatechange=function(t){n.responseText&&(i=i.concat(JSON.parse(n.responseText).results),e.setState({movieList:i}))},s++};s<=n;)r()},e.state={movieList:[],searchResponse:[],searchActorResponse:[],index:0,sortMethod:"revenue.desc"},e.fetchAPI=e.fetchAPI.bind(Object(h.a)(e)),e.throwURL=e.throwURL.bind(Object(h.a)(e)),e.updateSortMethod=e.updateSortMethod.bind(Object(h.a)(e)),e.quickSearch=e.quickSearch.bind(Object(h.a)(e)),e.searchActor=e.searchActor.bind(Object(h.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.throwURL(0)}},{key:"updateSortMethod",value:function(e){var t=this;this.setState({sortMethod:e},(function(){return t.throwURL()}))}},{key:"throwURL",value:function(){var e=this;this.fetchAPI("https://api.themoviedb.org/3/discover/movie",1,2,this.state.sortMethod,(function(t){e.setState({movieList:t})}))}},{key:"quickSearch",value:function(e){var t=this,s=[],n=e.target.value,o=new XMLHttpRequest,i="https://api.themoviedb.org/3/search/movie";i=(i+="?api_key=793404c73efcad0fa53d5f53f793021f")+"&query="+n,o.timeout=5e3,o.ontimeout=function(){console.log("This request is taking too long!")},o.open("GET",i,!0),o.send(),o.onreadystatechange=function(e){if(o.responseText)if(void 0!=(s=JSON.parse(o.responseText).results)){var i=s.slice(0,5).map((function(e,t){return a.a.createElement("dd",{key:"movie"+t},e.title)}));t.setState({searchResponse:i}),t.searchActor(n)}else t.setState({searchResponse:[]})}}},{key:"searchActor",value:function(e){var t=this,s=new XMLHttpRequest,n="https://api.themoviedb.org/3/search/person";n=(n+="?api_key=793404c73efcad0fa53d5f53f793021f")+"&query="+e,s.timeout=5e3,s.ontimeout=function(){console.log("This request is taking too long!")},s.open("GET",n,!0),s.send(),s.onreadystatechange=function(e){if(s.responseText){var n=JSON.parse(s.responseText).results;if(void 0!=n){var o=n.slice(0,5).map((function(e,t){if("Acting"==e.known_for_department&&0!=e.gender)return a.a.createElement("dd",{key:"Actor"+t},e.name)}));t.setState({searchActorResponse:o})}else t.setState({searchActorResponse:[]})}}}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement("nav",{id:"movieResults-nav"},a.a.createElement("img",{src:p.a,id:"logo"}),a.a.createElement("div",{id:"search-bar-section"},a.a.createElement("input",{id:"search-bar",type:"text",placeholder:"Find something...",onChange:function(t){return e.quickSearch(t)},onFocus:function(){return e.setState({showResults:!0})},onBlur:function(){return e.setState({showResults:!1})}}),a.a.createElement("div",{id:"search-bar-results",style:{display:this.state.showResults?"block":"none"}},a.a.createElement("dl",null,a.a.createElement("dt",{style:{display:this.state.searchResponse.length>0?"block":"none"}},"Movies"),this.state.searchResponse,a.a.createElement("dt",{style:{display:this.state.searchActorResponse.length>0?"block":"none"}},"Actors"),this.state.searchActorResponse)))),a.a.createElement("nav",{id:"movieResults-sort"},a.a.createElement(f,{throw:this.updateSortMethod,menuList:[{tidy:"Popularity Desc",messy:"popularity.desc"},{tidy:"Popularity Asc",messy:"popularity.asc"},{tidy:"Release Date Desc",messy:"release_date.desc"},{tidy:"Release Date Asc",messy:"release_date.asc"},{tidy:"Revenue Desc",messy:"revenue.desc"},{tidy:"Revenue Asc",messy:"revenue.asc"},{tidy:"Votes Desc",messy:"vote_count.desc"},{tidy:"Votes Asc",messy:"vote_count.asc"},{tidy:"Vote Average Desc",messy:"vote_average.desc"},{tidy:"Vote Average Asc",messy:"vote_average.asc"}]})),a.a.createElement("main",{className:"movieResults"},this.state.movieList.map((function(e,t){return a.a.createElement(d,{key:"MovieList"+t,movieName:e.title+" ("+e.release_date.substring(0,4)+")",movieDesc:e.overview,movieActive:0==t,moviePoster:"https://image.tmdb.org/t/p/w400".concat(e.poster_path)})}))))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.55c08797.chunk.js.map